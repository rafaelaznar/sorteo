<!DOCTYPE html>
<html>

<head>
  <title>SORTEO</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
  integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<script type="text/javascript">
  function randomIntFromInterval(min, max) {
    return Math.floor(Math.random() * (max - min + 1) + min);
  }
  function swapArray(list) {
    var x = randomIntFromInterval(0, list.length - 1);
    var y = randomIntFromInterval(0, list.length - 1);
    var b = list[y];
    list[y] = list[x];
    list[x] = b;
  }

  function sorteo(sorteados) {
    var maxIteraciones = 100000000
    for (i = 0; i <= maxIteraciones; i++) {
      swapArray(sorteados);
    }
  }
  function showResults(sorteantes, sorteados) {
    max = Math.max(sorteantes.length, sorteados.length);
    $("#resultado").empty();
    $("#resultado").append("Resultados del sorteo:");
    for (i = 0; i <= max - 1; i++) {
      if (i <= sorteantes.length - 1) {
        if (i <= sorteados.length - 1) {
          $("#resultados").append(sorteantes[i] + ".- " + sorteados[i] + "<br>");
        } else {
          $("#resultados").append(sorteantes[i] + ".- <br>");
        }
      } else {
        $("#resultados").append(sorteados[i] + "<br>");
      }
    }
  }
  function clear() {
    $("#sorteantes").empty();
    $("#sorteados").empty();
    $("#resultado").empty();
    $("#resultados").empty();
  }

  $(document).ready(function () {

    $("#reset").on("click", function () {
      clear();
    });

    $("#sample").on("click", function () {
      clear();
      nsorteantes = randomIntFromInterval(5, 15);
      nsorteados = randomIntFromInterval(5, 15);
      aSorteantes = [];
      aSorteados = [];
      for (i = 1; i <= nsorteantes; i++) {
        aSorteantes.push("sorteante " + i);
        $("#sorteantes").append(aSorteantes[i - 1] + "\n")
      }
      for (i = 1; i <= nsorteados; i++) {
        aSorteados.push("sorteado " + i);
        $("#sorteados").append(aSorteados[i - 1] + "\n")
      }
    });

    $("#inicio").on("click", function () {
      var sorteantes = $('#sorteantes').val().split('\n');
      var sorteados = $('#sorteados').val().split('\n');
      sorteo(sorteados);
      showResults(sorteantes, sorteados)
    });
  });
</script>

<body>
  <div class="container mt-5">
    <div class="row">
      <div class="col d-flex align-items-center justify-content-center">
        <h1>Sorteo</h1>
      </div>
    </div>
    <div class="row">
      <div class="col d-flex align-items-center justify-content-center">
        <h2>Se van a asignar los sorteantes a los sorteados</h2>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <label for="sorteantes" class="form-label">Sorteantes:</label>
        <textarea class="form-control" id="sorteantes" rows="15"></textarea>
      </div>
      <div class="col">
        <label for="sorteados" class="form-label">Sorteados:</label>
        <textarea class="form-control" id="sorteados" rows="15"></textarea>
      </div>
    </div>
    <div class="row m-5">
      <div class="col  d-flex align-items-center justify-content-center">
        <input type="button" class="btn btn-primary mx-2" value="Inicio" name="inicio" id="inicio" />
        <input type="button" class="btn btn-danger mx-2" value="Reset" name="reset" id="reset" />
        <input type="button" class="btn btn-primary mx-2" value="Sample" name="sample" id="sample" />
      </div>
    </div>
    <div class="row">
      <div class="col d-flex align-items-center justify-content-center">
        <h3 id="resultado"></h3>
      </div>
    </div>
    <div class="row">
      <div class="col d-flex align-items-center justify-content-center">
        <h4 id="resultados"></h4>
      </div>
    </div>
  </div>

</body>

</html>
