<!DOCTYPE html>
<html>
    <head>
        <title>SORTEO</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <script type="text/javascript">
        function randomIntFromInterval(min, max)
        {
            return Math.floor(Math.random() * (max - min + 1) + min);
        }
        function  swapArray(list) {
            var x = randomIntFromInterval(0, list.length - 1);
            var y = randomIntFromInterval(0, list.length - 1);
            var b = list[y];
            list[y] = list[x];
            list[x] = b;
        }
        function actualizaBarra(porcentaje) {
            $("#barra")
                    .css('width', porcentaje + '%')
                    .attr('aria-valuenow', porcentaje)
                    .text(porcentaje + "% Completado");
        }
        $(document).ready(function () {
            $("#inicio").on("click", function () {
                var alumnos = [
                    "Hector",
                    "Alberto",
                    "Toni",
                    "Ari",
                    "Pablo",
                    "Bruno",
                    "Nico",
                    "Fernando",
                    "Empar",
                    "Isma",
                    "Inna",
                    "Adri"
                ];
                var porcentaje = 0;
                var maxIteraciones = 100000000
                setTimeout(function () {
                    actualizaBarra(porcentaje)
                }, 1000);
                for (i = 0; i <= maxIteraciones; i++) {
                    swapArray(alumnos);
                    porcentaje = (i * 100) / maxIteraciones;
                }
                $("#resultado").empty();
                $("#resultado").append("Resultado del sorteo tras " + maxIteraciones + " iteraciones:<br>");
                for (i = 0; i <= alumnos.length - 1; i++) {
                    $("#resultado").append((i + 1) + ".- Alumno/a: " + alumnos[i] + "<br>");
                }
            });
        });
    </script>
    <body>
        <h1>Sorteo</h1>
        <input type="button" value="Inicio" name="inicio" id="inicio" />
        <div class="progress">
            <div id="barra" 
                 class="progress-bar progress-bar-success progress-bar-striped active" 
                 role="progressbar" 
                 aria-valuenow="0" 
                 aria-valuemin="0" 
                 aria-valuemax="100" 
                 style="width: 0%">
            </div>
        </div>
        <h3 id="resultado"></h3>
    </body>
</html>








